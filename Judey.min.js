"use strict";class Judey{_Data=null;_Length=null;_Parent=null;_ChildCount=0;static $id=t=>new Judey(t,1,!0);static $cls=t=>new Judey(t,2,!0);static $tag=t=>new Judey(t,3,!0);static $query=t=>new Judey(t,4,!0);static $elem=t=>new Judey(t,0,!0);static id=t=>new Judey(t,1,!1);static cls=t=>new Judey(t,2,!1);static tag=t=>new Judey(t,3,!1);static query=t=>new Judey(t,4,!1);static $Element=(t,e="",s="")=>{const i=document.createElement(t);return this.$elem(i).Id(e).Class(s)};static Element=(t,e="",s="")=>Judey.$Element(t,e,s).Elem();constructor(t,e,s){const i=(e,s,i,n)=>{try{let h=0;const r=(()=>{switch(i){case 1:return e.getElementById(s);case 2:return e.getElementsByClassName(s);case 3:return e.getElementsByTagName(s);case 4:return e.querySelectorAll(s);case 0:return void 0!==s?.tagName?h=0:i=2,t}})();return h=i<2?r?0:-1:r.length-1,n?i>1&&0===h?r[0]:h>0?r:null:(this._Data=i>1&&0===h?r[0]:r,this._Length=h,this)}catch(t){return console.error(t),n?null:(this._Data=null,this._Length=-1,this)}},n=(t,e,s)=>h(t)&&0===this._Length?i(this._Data,t,e,s):this,h=t=>"string"==typeof t&&this._Length>=0,r=(t,e=!1,s=!1)=>{const i=t.includes("touch"),n={};return e&&(n.once=!0),i&&(n.passive=!0),s&&(n.capture=!0),n},a=(t,e,s)=>{if(!h(t)||"function"!=typeof e)return this;const i=t.split(",");return this.EachElem((t=>i.forEach((i=>t.addEventListener(i,e,s))))),this};return i(document,t,e,!1),!1===s?this._Data:(this.$id=(t,e=!1)=>n(t,1,e),this.$cls=(t,e=!1)=>n(t,2,e),this.$tag=(t,e=!1)=>n(t,3,e),this.$query=(t,e=!1)=>n(t,4,e),this.$Nid=t=>Judey.$elem(this.$id(t,!0)),this.$Ncls=t=>Judey.$elem(this.$cls(t,!0)),this.$Ntag=t=>Judey.$elem(this.$tag(t,!0)),this.$Nquery=t=>Judey.$elem(this.$query(t,!0)),this.$Parent=(t,e=!1)=>h(t)&&0===this._Length?i(null,this._Data.closest(t),0,e):this,this.$NewParent=t=>Judey.$elem(this.$Parent(t)),this.EachElem=t=>{if(0===this._Length)return t(this._Data,0),!0;for(let e=0;e<=this._Length;e++)if("Exit"===t(this._Data[e],e))return!1;return!0},this.Id=t=>h(t)&&""!==t?(this.EachElem(((e,s)=>e.id=0===s?t:t+(s+1))),this):this,this.Class=t=>{if(!h(t)||""===t)return this;const e=t.split(",");return this.EachElem((t=>e.forEach((e=>t.classList.add(e))))),this},this.Toggle=t=>h(t)?(this.EachElem((e=>e.classList.toggle(t))),this):this,this.Attr=(t,e)=>{if(this._Length<0)return this;if(2===[t,e].filter((t=>"string"==typeof t)).length)this.EachElem((s=>s.setAttribute(t,e)));else try{Object.keys(t).forEach((e=>this.EachElem((s=>s.setAttribute(e,t[e])))))}catch(t){console.error(t)}return this},this.Style=t=>h(t)?(this.EachElem((e=>e.style=t)),this):this,this.Append=(t,e)=>{if(0==t||0!==this._Length)return this;const s=t=>{if("HTMLCollection"===t?.constructor?.name){const s=t.length;for(let i=0;i<s;i++)this._Data.insertAdjacentElement(e,t[0])}if("NodeList"===t?.constructor?.name)for(let s=0;s<t.length;s++)this._Data.insertAdjacentElement(e,t[s])};if("Judey"===t?.constructor?.name){if(0===t._Length&&this._Data.insertAdjacentElement(e,t.Elem()),t._Length>0){s(t.Elem())}return this}return["HTMLCollection","NodeList"].includes(t?.constructor?.name)?s(t):t.localName?this._Data.insertAdjacentElement(e,t):this._Data.insertAdjacentHTML(e,t),this},this.AppendLast=t=>this.Append(t,Judey.InsertLast),this.AppendFirst=t=>this.Append(t,Judey.InsertFirst),this.AppendBefore=t=>this.Append(t,Judey.Before),this.AppendAfter=t=>this.Append(t,Judey.After),this.Child=(t,e="",s="")=>{if(!h(t)&&0!==this._Length)return this;null===this._Parent&&(this._Parent=this._Data);const i=document.createElement(t);return this._Data.appendChild(i),this._Data=null,this._ChildCount+=1,this._Data=i,this.Id(e).Class(s)},this.Breaker=(t=1)=>{if(0!==this._Length)return this;if(this._ChildCount-t<1)this._Data=this._Parent,this._ChildCount=0;else for(let e=0;e<t;e++)this._Data=this._Data.parentElement,this._ChildCount-=1;return this},this.Text=t=>(this.EachElem(((e,s)=>{e.innerText!==("object"==typeof t?t[s]:t)&&(e.innerText="object"==typeof t?t[s]:t)})),this),this.RetText=t=>{if(!h(t))return null;let e=[];return this.EachElem((s=>e.push(s[t]))),1===e.length?e[0]:e.length>1?e:null},this.Html=t=>h(t)?(0===this._Length&&(this._Data.innerHTML=t),this):this,this.Event=(t,e)=>a(t,e,r(t,!1,!1)),this.OnceEvent=(t,e)=>a(t,e,r(t,!0,!1)),this.CaptureEvent=(t,e)=>a(t,e,r(t,!1,!0)),this.OnceCaptureEvent=(t,e)=>a(t,e,r(t,!0,!0)),this.Dispatch=t=>h(t)?(this.EachElem((e=>e.dispatchEvent(new Event(t)))),this):this,this.FlickGo=(t,e=0,s=0,i=1e3,n=!1)=>this.FlickBase(t,e,s,i,n,null),this.FlickMove=(t,e=0,s=0,i=1e3,n=!1)=>this.FlickBase(t,e,s,i,n,"Move"),this.FlickBase=(t,e,s,i,n,h)=>("function"!=typeof t||this.EachElem((r=>this._Touch(Judey.$elem(r),t,e,s,i,n,h))),this),this.RemEvent=(t,e)=>{if(!h(t)||"function"!=typeof e)return this;const s=t.split(",");return this.EachElem((t=>{s.forEach((s=>{t.removeEventListener(s,e,!1),t.removeEventListener(s,e,{capture:!0})}))})),this},this.Rem=()=>{if(this._Length<0)return this;if(0===this._Length&&this.EachElem((t=>t.remove())),"NodeList"===this._Data?.constructor?.name)for(let t=0;t<=this._Length;t++)this._Data[t].remove();else for(;this._Data.length>0;)this._Data[0].remove()},this.RemClass=t=>{if(!h(t))return this;const e=t.split(",");return this.EachElem((t=>e.forEach((e=>t.classList.remove(e))))),this},this.RemAttr=t=>{if(!h(t))return this;const e=t.split(",");return this.EachElem((t=>e.forEach((e=>t.removeAttribute(e))))),this},this.Elem=()=>this._Data,this.Len=()=>this._Length,this.RemChild=()=>(this.EachElem((t=>t.innerHTML="")),this),this.InpText=(t=null)=>{if(this._Length<0)return this;let e=[];return this.EachElem(((s,i)=>{null===t?e.push(s.value):s.value="object"!=typeof t?t:t[i]})),null!==t?this:1===e.length?e[0]:e},this)}static Before="beforeBegin";static InsertFirst="afterBegin";static InsertLast="beforeEnd";static After="afterEnd";_Touch=(t,e,s,i,n,h,r=null)=>{t.Event("touchstart",(function a(){let l=0,c=0,u=!1;const o=Date.now()+n;let E=!0,m=!0;const d=0!==s&&(s>0?"up":"down"),f=0!==i&&(i>0?"up":"down");let _=0,g=0;function p(n){E=!1;const h=o-Date.now();if(!(h<1))return function(t){const e=t.targetTouches[0],n=e.screenX-l,h=e.screenY-c;return!0==(!1===d||("up"===d?n>s:"down"===d&&n<s))&&!0==(!1===f||("up"===f?h>i:"down"===f&&h<i))&&(_=null===r?Math.floor(n):Math.floor(n)-_,g=null===r?Math.floor(h):Math.floor(h)-g,!0)}(n)?("Move"===r&&(e(t.Elem(),_,g),t.OnceEvent("touchmove",p)),void(null!==r&&!1!==u||(u=!0,setTimeout(L,h)))):(E=!0,void setTimeout((()=>t.OnceEvent("touchmove",p)),50))}function y(){if(m=!1,v(),u&&null===r)return e(t.Elem(),_,g),void(u=!1)}function v(){E&&(t.RemEvent("touchmove",p),E=!1)}function L(){m&&(t.RemEvent("touchend",y),h&&t.RemEvent("touchstart",a),m=!1)}t.OnceEvent("touchmove",(t=>{l=Math.trunc(t.targetTouches[0].screenX),c=Math.trunc(t.targetTouches[0].screenY)})),t.OnceEvent("touchmove",p),t.OnceEvent("touchend",y),setTimeout(v,n),setTimeout(L,n)}))}}
